<% for obj in @objects.select {|o| YARD::CodeObjects::ClassObject === o && o.superclass != P(:Object) } %>
  <% [obj, obj.superclass].each do |o| %>
    <% if o != YARD::Registry.root && (!o.respond_to?(:children) || !namespaces(o).empty?) %>
      <%= format_path o %> [label="{<%= o.type %> <%= o.path %>}" rank=sink];
    <% end %>
  <% end %>

  <%= format_path obj %> -> <%= format_path obj.superclass %>;
<% end %>